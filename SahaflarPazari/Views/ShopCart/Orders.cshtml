@using SahaflarPazari.Models;
@model   List<Siparisler>

@{
    ViewBag.Title = "Orders";
}



<div class="containera">
    <div class="container-fluid my-5  d-flex  justify-content-center">
        <div class="card card-1">

            @foreach (var k in Model)
            {
                var barValue = 0;
                var selected = k.SiparisDurumu;
                switch (selected)
                {
                    case "Hazirlaniyor":
                        barValue = 10;
                        break;
                    case "Gönderildi":
                        barValue = 33;
                        break;
                    case "Dagitimda":
                        barValue = 66;
                        break;
                    case "Teslim Edildi":
                        barValue = 100;
                        break;

                }
                <div class="card-body">
                    <div class="row justify-content-between mb-3">
                        <div class="col-auto"> <h6 class="color-1 mb-0 change-color">Tarih: @k.SiparisTarihi</h6> </div>
                        <div class="col-auto  "> <small>Sipariş Id : @k.SiparisId</small> </div>
                    </div>

                    <div class="row mt-4">
                        <div class="col">
                            <div class="card card-2">
                                <div class="card-body">
                                    <div class="media">

                                        <div class="media-body my-auto text-right">

                                            <div class="row  my-auto flex-column flex-md-row">
                                                <div class="sq align-self-center "> <img class="img-fluid  my-auto align-self-center mr-2 mr-md-4 pl-0 p-0 m-0" src="~/Content/img/Kitap_Resimleri/@k.Kitap.KitapResimleri.ToList()[0].DataYolu" width="135" height="135" /> </div>
                                                <div class="col-auto my-auto "> <h6 class="mb-0"> <b> @k.Kitap.KitapAdi</b></h6> </div>
                                                <div class="col my-auto  "> <small><b>Satıcı: </b> @k.Kitap.Kullanici.KullaniciAdi </small></div>
                                                <div class="col my-auto  "> <small><b>Yayınevi: </b>@k.Kitap.Yayinevi.YayineviAdi</small></div>
                                                <div class="col my-auto  "> <small><b>Yazar: </b>@k.Kitap.Yazar</small></div>
                                                <div class="col my-auto  "> <small><b>Kitabın Eklenme Tarihi: </b>@k.Kitap.EklenmeTarihi</small></div>

                                            </div>
                                            <div class="row  my-auto flex-column flex-md-row">
                                                <div class="col-auto my-auto "> <h6 class="mb-0"> <b>Açıklama</b> @k.Kitap.KitapAdi</h6> </div>

                                            </div>
                                        </div>
                                    </div>
                                    <hr class="my-3 ">
                                    <div class="row ">
                                        <div class="col-md-3 mb-3">  <small> Sipariş Takibi <span><i class=" ml-2 fa fa-refresh" aria-hidden="true"></i></span></small> </div>
                                        <div class="col mt-auto">
                                            <div class="progress"><div class="progress-bar progress-bar  rounded" id="@k.SiparisId" style="width: @barValue% " role="progressbar" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div></div>
                                            <div class="media row justify-content-center">
                                                <div class="col-auto flex-col-auto siparisDurumu">@k.SiparisDurumu<span> <i class="fa fa-circle"></i></span></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row mt-4">
                        <div class="col justify-content-between">
                            <div class="row justify-content-around">
                                <div class="col-auto"><p class="mb-1 text-dark"><b>Sipariş Detayları</b></p></div>

                            </div>
                            <div class="row justify-content-around">
                                <div class="flex-sm-col text-right col"><p class="mb-1"> <b>Toplam</b></p> </div>
                                <div class="flex-sm-col col-auto"><p class="mb-1">&#8378;@k.Kitap.Fiyat</p></div>
                            </div>
                            <div class="row justify-content-around">
                                <div class="flex-sm-col text-right col"><p class="mb-1"><b>Kargo Adresi</b></p></div>
                                <div class="flex-sm-col col-auto"><p class="mb-1" style="white-space: pre-line;">@k.Adres</p></div>
                            </div>
                            <div class="row justify-content-around">
                                <div class="flex-sm-col text-right col"><p class="mb-1"><b>Kargo Ücreti</b></p></div>
                                <div class="flex-sm-col col-auto"><p class="mb-1">&#8378;0</p></div>
                            </div>
                        </div>
                    </div>

                </div>
               <hr />
            }
        </div>
    </div>
</div>


<script src="~/Content/js/jquery-3.3.1.min.js"></script>
<script src="~/Content/js/bootstrap.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>

<script>
    
        
        
    $(document).ready(function () {
        var selectedItem = $(".siparisDurumu").text();
        console.log(selectedItem);
        switch (selectedItem) {
            case "Hazirlaniyor":
                $(".rounded").css("width", "10%");
                break;
            case "Gönderildi":
                $(".rounded").css("width", "33%");
                break;
            case "Dağıtımda":
                $(".rounded").css("width", "66%");
                break;
            case "Teslim Edildi":
                $(".rounded").css("width", "100%");
                break;
        }
        
    });
   
</script>


<style>
    .containera {
            min-height: 100vh;
            min-width: 100vh;
            background-size: cover;
            font-family: 'Lato', sans-serif;

        }
        .container-fluid {
            margin-top: 200px ;
        }

        p {
            font-size: 14px;
            margin-bottom: 7px;

        }

        .small {
            letter-spacing: 0.5px !important;
        }

        .card-1 {
            box-shadow: 2px 2px 10px 0px rgb(190, 108, 170);
        }

        hr {
            background-color: rgba(248, 248, 248, 0.667);
        }


        .bold {
            font-weight: 500;
        }

        .change-color {
            color: #AB47BC !important;
        }

        .card-2 {
            box-shadow: 1px 1px 3px 0px rgb(112, 115, 139);

        }

        .fa-circle.active {
            font-size: 8px;
            color: #AB47BC;
        }

        .fa-circle {
            font-size: 8px;
            color: #aaa;
        }

        .rounded {
            border-radius: 2.25rem !important;
        }


        .progress-bar {
            background-color: #AB47BC !important;
        }


        .progress {
            height: 5px !important;
            margin-bottom: 0;
        }

        .invoice {
            position: relative;
            top: -70px;
        }

        .Glasses {
            position: relative;
            top: -12px !important;
        }

        .card-footer {
            background-color: #AB47BC;
            color: #fff;
        }

        h2 {
            color: rgb(78, 0, 92);
            letter-spacing: 2px !important;
        }

        .display-3 {
            font-weight: 500 !important;
        }

        @@media (max-width: 479px) {
            .invoice {
                position: relative;
                top: 7px;
            }

            .border-line {
                border-right: 0px solid rgb(226, 206, 226) !important;
            }

        }

        @@media (max-width: 700px) {

            h2 {
                color: rgb(78, 0, 92);
                font-size: 17px;
            }

            .display-3 {
                font-size: 28px;
                font-weight: 500 !important;
            }
        }

        .card-footer small {
            letter-spacing: 7px !important;
            font-size: 12px;
        }

        .border-line {
            border-right: 1px solid rgb(226, 206, 226)
        }
</style>